---
title: Электронная почта как уникальный идентификатор пользователя в системе
searchable: true
---

# Электронная почта как уникальный идентификатор пользователя в системе

*Как в нашей системе используется электронная почта в качестве уникального идентификатора пользователя, в каких случаях её можно или нельзя изменить, и какие действия необходимо предпринять при смене почты сотрудника*

## Основные принципы

**Каждый пользователь в системе регистрируется с помощью электронной почты.**

**Эта почта:**

* служит уникальным идентификатором пользователя в системе,
* используется для входа в систему,
* участвует в логике авторизации и распределения прав доступа,
* связана с историей действий, ролями и принадлежностью к организациям.

Таким образом, электронная почта — это не просто контактная информация, а ключевая часть профиля пользователя.

## Как устроена логика идентификации

* При регистрации нового пользователя система создаёт запись, где почта — это уникальный ключ.
* Пользователь может быть привязан к одной или нескольким организациям.
* Внутри системы один и тот же пользователь может иметь разные роли в разных организациях, но всегда с одной и той же почтой.

## Когда можно изменить электронную почту

Сменить почту возможно, если выполняются следующие условия:

* Пользователь зарегистрирован только в одной организации.
* Почта ещё не используется другим пользователем в системе.
* Изменить почту может владелец системы или сотрудник с правами редактирования персональных данных.

**Пример:**
*Сотрудник Мария зарегистрирована в системе с почтой maria@company.com, и работает только в одной организации. Почту можно изменить на maria.new@company.com, не нарушая целостности данных.*

## Когда изменить почту нельзя

Смена почты запрещена, если:

* Пользователь уже добавлен в несколько организаций в системе.

Это значит, что один и тот же e-mail используется для входа в разные рабочие пространства (организации).
Почта в этом случае связана с несколькими сущностями, и изменение нарушит системную логику.

**Пример:**
*Алексей зарегистрирован с почтой alexey@company.com и работает сразу в двух организациях. В этом случае почту изменить невозможно.*

## Что делать, если почту изменить нельзя

В случае, если смена почты недоступна, необходимо:

1. Удалить пользователя с текущей почтой из всех организаций.
2. Зарегистрировать нового пользователя с новой почтой, добавив его в организацию.

Это создаст нового пользователя с отдельным идентификатором, не связанного с предыдущим аккаунтом.

## Кто может изменить почту пользователя

Только сотрудники с определёнными правами:

* Владелец системы
* Администратор с правом редактирования персональных данных сотрудников

## Почему нельзя объединять нескольких пользователей в одного

Иногда возникает ситуация, когда один и тот же сотрудник по факту зарегистрирован в системе под двумя разными почтами — например:

* сначала использовал anna@company.com в одной организации;
* потом был зарегистрирован как anna.smirnova@company.com в другой.

Вроде бы это один человек, и может показаться логичным "объединить" их в одного пользователя.
Но так делать нельзя.

Система строит логику на жёсткой уникальности e-mail → пользователь.
Каждый e-mail — это отдельный пользовательский ID, связанный:

* с правами доступа,
* с историей действий,
* с ролями,
* с данными внутри организаций.

Объединение двух пользователей нарушило бы:

* целостность данных,
* корректность логов,
* безопасность доступа,
* привязку к задачам, документам и аналитике.

## Частые вопросы

**Что произойдёт с действиями старого пользователя после удаления?**
История активности останется в системе, но будет связана с прежним ID пользователя.

**Можно ли повторно использовать старую почту?**
Да, если предыдущий пользователь был удалён, и e-mail больше не используется в системе. 